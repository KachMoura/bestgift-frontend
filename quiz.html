<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BestGift - Trouvez le cadeau parfait</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="stylesheet" href="../assets/css/quiz.css" />
  <style>
    #loader {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(255, 255, 255, 0.9);
      z-index: 9999;
      justify-content: center;
      align-items: center;
    }
    .spinner-border {
      width: 4rem;
      height: 4rem;
    }
  </style>
</head>
<body>
  <!-- Loader -->
  <div id="loader">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Chargement...</span>
    </div>
  </div>

  <!-- Contenu principal -->
  <div class="container mt-5">
    <h1 class="text-center mb-4">üéÅ Trouvez le cadeau id√©al</h1>
    <form id="quizForm">
      <!-- √âtape 1 : Genre -->
      <div id="step-gender" class="form-group">
        <label for="gender">Pour qui est le cadeau ?</label>
        <select id="gender" name="gender" class="form-control" required>
          <option value="">-- S√©lectionnez --</option>
          <option value="man">Homme</option>
          <option value="woman">Femme</option>
          <option value="child">Enfant</option>
        </select>
      </div>

      <!-- √âtape 2 : Profil -->
      <div id="step-profile" class="form-group">
        <label for="interests">Quel est son profil ?</label>
        <select id="interests" name="interests" class="form-control" required>
          <option value="">-- S√©lectionnez --</option>
          <option value="sport">Sportif</option>
          <option value="beauty">Beauty Addict</option>
          <option value="geek">Geek</option>
          <option value="eco">√âcolo</option>
          <option value="gourmet">Gourmand</option>
          <option value="traveler">Voyageur</option>
          <option value="book">Lecteur</option>
        </select>
      </div>

      <!-- √âtape 3 : Budget -->
      <div class="form-group">
        <label>Budget</label>
        <div class="d-flex align-items-center">
          <span id="minBudgetOutput" class="mr-2">0 ‚Ç¨</span>
          <input type="range" id="minBudget" min="0" max="500" value="0" class="form-control-range mr-2" />
          <input type="range" id="maxBudget" min="0" max="500" value="100" class="form-control-range ml-2" />
          <span id="maxBudgetOutput" class="ml-2">100 ‚Ç¨</span>
        </div>
        <div id="rangeTrack" style="height: 4px; background: #007bff; margin-top: 8px;"></div>
      </div>

      <!-- √âtape 4 : Pr√©f√©rences -->
      <div class="form-group">
        <label>Pr√©f√©rences (optionnel)</label><br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="preferences" value="eco" id="pref1">
          <label class="form-check-label" for="pref1">√âcologique</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="checkbox" name="preferences" value="local" id="pref2">
          <label class="form-check-label" for="pref2">Fabriqu√© en France</label>
        </div>
      </div>

      <!-- √âtape 5 : Exclusions -->
      <div class="form-group">
        <label for="excludedGifts">Exclure certains cadeaux ? (ex: parfum, alcool...)</label>
        <input type="text" id="excludedGifts" name="excludedGifts" class="form-control" placeholder="S√©par√©s par des virgules" />
      </div>

      <!-- Boutons -->
      <button type="submit" class="btn btn-primary btn-block">Voir les suggestions</button>
      <button type="button" id="resetBtn" class="btn btn-secondary btn-block mt-2">R√©initialiser</button>
    </form>

    <!-- Message -->
    <p id="messageBox" class="text-danger mt-3"></p>

    <!-- R√©sultats -->
    <div id="suggestionsContainer" class="mt-4"></div>

    <!-- Comparateur -->
    <div id="compareSection" style="display:none;" class="mt-5">
      <h3>Comparer deux produits</h3>
      <div id="compareList" class="d-flex flex-wrap"></div>
      <button id="compareBtn" class="btn btn-info mt-3" disabled>Comparer avec l'IA</button>
      <button id="resetCompareBtn" class="btn btn-outline-danger mt-3 ml-2">R√©initialiser</button>
      <div id="aiComparisonResult" class="mt-4"></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="quiz.js"></script>
</body>
</html>
