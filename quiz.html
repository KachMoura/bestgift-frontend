<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BestGift - Quiz</title>
  <link rel="stylesheet" href="quiz.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
  <div class="container">
    <h1>Quel est le cadeau parfait ?</h1>
    <form id="quizForm">

      <!-- Étape 1 : Genre -->
      <div class="form-step active" id="step1">
        <label><strong>Pour qui est le cadeau ?</strong></label>
        <div class="gender-options">
          <label class="gender-card">
            <input type="radio" name="gender" value="Elle" />
            <i class="fas fa-female"></i>
            <span>Elle</span>
          </label>
          <label class="gender-card">
            <input type="radio" name="gender" value="Lui" />
            <i class="fas fa-male"></i>
            <span>Lui</span>
          </label>
          <label class="gender-card">
            <input type="radio" name="gender" value="Mixte" />
            <i class="fas fa-user-friends"></i>
            <span>Mixte</span>
          </label>
        </div>
        <div class="navigation-buttons">
          <button type="button" class="next-btn">Suivant</button>
        </div>
      </div>

      <!-- Étape 2 : Profil -->
      <div class="form-step" id="step2">
        <label for="interests"><strong>Quel est le profil de cette personne ?</strong></label>
        <select name="interests" id="interests" required>
          <option value="" disabled selected>Choisissez un profil</option>
          <option value="geek">Geek</option>
          <option value="sport">Sportif</option>
          <option value="fashion">Fashion Addict</option>
          <option value="eco">Écolo</option>
          <option value="food">Gourmand</option>
          <option value="book">Lecteur</option>
        </select>
        <div class="navigation-buttons">
          <button type="button" class="prev-btn">Précédent</button>
          <button type="button" class="next-btn">Suivant</button>
        </div>
      </div>

      <!-- Étape 3 : Budget -->
      <div class="form-step" id="step3">
        <label><strong>Quel est votre budget ?</strong></label>
        <div class="budget-slider">
          <input type="range" id="minBudget" name="minBudget" min="0" max="500" step="5" value="0" oninput="updateDoubleRange()">
          <input type="range" id="maxBudget" name="maxBudget" min="0" max="500" step="5" value="200" oninput="updateDoubleRange()">
          <div class="slider-track" id="rangeTrack"></div>
          <div class="budget-values">
            <span id="minBudgetOutput">0 €</span> - <span id="maxBudgetOutput">200 €</span>
          </div>
        </div>
        <div class="navigation-buttons">
          <button type="button" class="prev-btn">Précédent</button>
          <button type="button" class="next-btn">Suivant</button>
        </div>
      </div>

      <!-- Étape 4 : Préférences + Exclusions -->
      <div class="form-step" id="step4">
        <label><strong>Préférences</strong></label>
        <div class="preferences">
          <label><input type="checkbox" name="preferences" value="promo" /> En promotion</label>
          <label><input type="checkbox" name="preferences" value="livraison" /> Livraison rapide</label>
          <label><input type="checkbox" name="preferences" value="petit" /> Petit format</label>
        </div>
        <label for="excludedGifts"><strong>Cadeaux à exclure (optionnel)</strong></label>
        <input type="text" name="excludedGifts" id="excludedGifts" placeholder="Ex: parfum, montre..." />
        <div class="navigation-buttons">
          <button type="button" class="prev-btn">Précédent</button>
          <button type="submit" class="submit-btn">Voir les suggestions</button>
        </div>
      </div>
    </form>

    <div id="loader" class="loader" style="display: none;">Chargement...</div>
    <div id="messageBox"></div>
    <div id="suggestionsContainer"></div>
    <div id="compareSection" style="display:none;">
      <h3>Comparaison</h3>
      <div id="compareList"></div>
      <button id="compareBtn" disabled>Comparer</button>
      <button id="resetCompareBtn">Réinitialiser</button>
    </div>
    <div id="aiComparisonResult"></div>
  </div>

  <script src="quiz.js"></script>
</body>
</html>