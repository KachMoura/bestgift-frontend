<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BestGift - Quiz</title>
  <link rel="stylesheet" href="quiz.css" />
  <script defer src="quiz.js"></script>
</head>
<body>
  <div id="quiz-container">
    <form id="quizForm">
      <!-- Étape 1 : Pour qui -->
      <div class="quiz-step active" id="step-gender">
        <h2>Pour qui est le cadeau ?</h2>
        <label><input type="radio" name="gender" value="Elle" /> Elle</label>
        <label><input type="radio" name="gender" value="Lui" /> Lui</label>
        <label><input type="radio" name="gender" value="Mixte" /> Mixte</label>
      </div>

      <!-- Étape 2 : Profil -->
      <div class="quiz-step" id="step-profile">
        <h2>Quel est le profil ?</h2>
        <select name="interests" required>
          <option value="">-- Choisissez --</option>
          <option value="sport">Sportif</option>
          <option value="geek">Geek</option>
          <option value="food">Gourmand</option>
          <option value="travel">Voyageur</option>
          <option value="book">Lecteur</option>
          <option value="beauty">Beauty Addict</option>
          <!-- Ajoutez les autres ici -->
        </select>
      </div>

      <!-- Étape 3 : Budget -->
      <div class="quiz-step" id="step-budget">
        <h2>Quel est votre budget ?</h2>
        <div class="range-slider">
          <input type="range" id="minBudget" min="0" max="500" value="0" oninput="updateDoubleRange()"/>
          <input type="range" id="maxBudget" min="0" max="500" value="200" oninput="updateDoubleRange()"/>
          <div class="range-values">
            <span id="minBudgetOutput">0 €</span> — 
            <span id="maxBudgetOutput">200 €</span>
          </div>
        </div>
      </div>

      <!-- Étape 4 : Préférences + Cadeaux à exclure -->
      <div class="quiz-step" id="step-preferences">
        <h2>Vos préférences</h2>
        <label><input type="checkbox" name="preferences" value="promotion" /> En promotion</label>
        <label><input type="checkbox" name="preferences" value="livraison_rapide" /> Livraison rapide</label>
        <label><input type="checkbox" name="preferences" value="petit_format" /> Petit format</label>

        <h3 style="margin-top: 1em;">Cadeaux à exclure (facultatif)</h3>
        <input type="text" name="excludedGifts" placeholder="ex: parfum, tasse, livre..." />
      </div>

      <!-- Navigation -->
      <div class="quiz-navigation">
        <button type="button" id="prevBtn">Précédent</button>
        <button type="button" id="nextBtn">Suivant</button>
        <button type="submit" id="submitBtn" style="display:none;">Voir les suggestions</button>
      </div>
    </form>

    <!-- Loader + Résultats -->
    <div id="loader" style="display:none;">Chargement...</div>
    <div id="messageBox"></div>
    <div id="suggestionsContainer"></div>
    <div id="compareSection" style="display:none;">
      <h3>Comparer deux produits</h3>
      <div id="compareList"></div>
      <button id="compareBtn" disabled>Comparer avec l'IA</button>
      <button id="resetCompareBtn">Réinitialiser</button>
    </div>
    <div id="aiComparisonResult"></div>
  </div>
</body>
</html>
